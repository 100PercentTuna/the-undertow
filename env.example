# ============================================================
# The Undertow - Configuration
# ============================================================
# Copy this file to .env and fill in your values

# ------------------------------------------------------------
# AI Provider (Required)
# ------------------------------------------------------------
# Get your key from: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-your-key-here

# Optional: OpenAI as fallback
# Get your key from: https://platform.openai.com
OPENAI_API_KEY=

# ------------------------------------------------------------
# Email (Required for newsletter)
# ------------------------------------------------------------
# Choose provider: "smtp" (Gmail/O365) or "postmark"
EMAIL_PROVIDER=smtp

# Option 1: SMTP (Gmail, Microsoft O365, or any SMTP server)
# Gmail: FREE - 500 emails/day limit
# O365: FREE if you have Office 365 account - unlimited
#
# For Gmail:
# 1. Enable 2-factor authentication: https://myaccount.google.com
# 2. Generate App Password: Security → App passwords → Mail → "The Undertow"
# 3. Use that 16-character password (remove spaces)
#
# For Microsoft O365:
# 1. Enable 2-factor authentication: https://account.microsoft.com
# 2. Generate App Password: Security → Advanced security → App passwords
# 3. Use that password

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# For O365, use:
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@yourdomain.com
# SMTP_PASSWORD=your-app-password
# SMTP_USE_TLS=true

# Option 2: Postmark (Alternative - 100 emails/month free, $15/month for 10,000)
# 1. Sign up at https://postmarkapp.com
# 2. Create a server
# 3. Copy the Server API Token
# EMAIL_PROVIDER=postmark
# POSTMARK_API_KEY=your-server-token-here

# Your email address (must match SMTP_USERNAME for SMTP)
FROM_EMAIL=your-email@gmail.com

# Comma-separated list of recipients
NEWSLETTER_RECIPIENTS=you@email.com,friend@email.com

# ------------------------------------------------------------
# Database (Don't change for Lightsail setup)
# ------------------------------------------------------------
DATABASE_URL=postgresql://undertow:undertow123@localhost:5432/undertow
REDIS_URL=redis://localhost:6379/0

# ------------------------------------------------------------
# Schedule
# ------------------------------------------------------------
# Pipeline starts at 8:30 PM UTC = 4:30 AM SGT (next day)
PIPELINE_START_HOUR=20
PIPELINE_START_MINUTE=30

# ------------------------------------------------------------
# Cost Control
# ------------------------------------------------------------
# Daily budget in USD (pipeline stops if exceeded)
DAILY_BUDGET=1.50

# ------------------------------------------------------------
# Environment
# ------------------------------------------------------------
# Options: development, staging, production
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO
