# The Undertow - Environment Configuration
# Copy this file to .env and fill in your values

# ------------------------------------------------------------
# AI Provider (Required)
# ------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-your-key-here

# ------------------------------------------------------------
# Email (Required for newsletter)
# ------------------------------------------------------------
# ⚠️ IMPORTANT: Gmail/O365 app passwords are NO LONGER AVAILABLE
# Use Postmark (recommended) or SendGrid (free tier) instead
#
# Choose provider: "postmark" (recommended), "sendgrid" (free), or "smtp" (OAuth2 - advanced)
EMAIL_PROVIDER=postmark

# Option 1: Postmark (RECOMMENDED - $15/month for 10,000 emails)
# 1. Sign up at https://postmarkapp.com
# 2. Create a server → Copy Server API Token
# 3. Verify your sender email
POSTMARK_API_KEY=your-server-token-here
FROM_EMAIL=your-verified-email@domain.com

# Option 2: SendGrid (FREE TIER - 100 emails/day)
# 1. Sign up at https://sendgrid.com
# 2. Verify sender email
# 3. Create API key → Copy key (starts with SG.)
# EMAIL_PROVIDER=sendgrid
# SENDGRID_API_KEY=SG.your-key-here
# FROM_EMAIL=your-verified-email@domain.com

# Option 3: SMTP with OAuth2 (ADVANCED - Not Recommended)
# Requires OAuth 2.0 setup - complex. Use Postmark/SendGrid instead.
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=oauth2-token-here
# SMTP_USE_TLS=true
# FROM_EMAIL=your-email@gmail.com

# Comma-separated list of recipients
NEWSLETTER_RECIPIENTS=you@email.com,friend@email.com

# ------------------------------------------------------------
# Database (Don't change for Lightsail setup)
# ------------------------------------------------------------
DATABASE_URL=postgresql://undertow:undertow123@localhost:5432/undertow
REDIS_URL=redis://localhost:6379/0

# ------------------------------------------------------------
# Schedule
# ------------------------------------------------------------
# Pipeline starts at 8:30 PM UTC = 4:30 AM SGT (next day)
PIPELINE_START_HOUR=20
PIPELINE_START_MINUTE=30

# ------------------------------------------------------------
# Cost Control
# ------------------------------------------------------------
# Daily budget in USD (pipeline stops if exceeded)
DAILY_BUDGET=1.50

# ------------------------------------------------------------
# Optional Settings
# ------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Timezone (default: UTC)
TIMEZONE=UTC
